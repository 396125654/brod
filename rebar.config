%% -*- mode:erlang -*-

%% compile
{erl_opts,            [ warnings_as_errors
                      , warn_unused_vars
                      , warn_shadow_vars
                      , warn_unused_import
                      , {platform_define, "^R", otp_before_17}
                      , {platform_define, "(^R | 17)", otp_before_18}
                      ]}.

%% dependencies
{lib_dirs,            ["."]}.
{deps_dirs,           ["deps"]}.
{deps, [{supervisor3, ".*", {git, "https://github.com/klarna/supervisor3.git"}}]}.


%% escriptize
{escript_name,      "scripts/brod"}.
{escript_incl_apps, [supervisor3]}.


%% xref
{xref_checks, [ undefined_function_calls
              , undefined_functions
              , locals_not_used
              , deprecated_function_calls
              , deprecated_functions
              ]}.

%% tests
{cover_enabled,        true}.
{cover_print_enabled,  false}. %% we have our own script to print ut+ct merged coverage summary
{cover_export_enabled, true}.
{ct_use_short_names,   true}.

